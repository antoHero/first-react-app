{"ast":null,"code":"import _slicedToArray from \"/Users/zizoh/first-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/zizoh/first-react-app/src/ProductTable.js\";\nimport React from 'react';\nimport ProductRow from './ProductRow.js';\nimport SortableColumnHeader from './SortableColumnHeader.js';\n\nclass ProductTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.sortByColumnAndDirection = this.sortByColumnAndDirection.bind(this);\n    this.state = {\n      sort: {\n        column: 'name',\n        direction: 'desc'\n      }\n    };\n  }\n\n  sortByColumnAndDirection(objectA, objectB) {\n    let isDesc = this.state.sort.direction === 'desc' ? -1 : 1;\n    let _ref = [objectA[this.state.sort.column], objectB[this.state.sort.column]],\n        a = _ref[0],\n        b = _ref[1];\n\n    if (this.state.sort.column === 'price') {\n      var _map = [a, b].map(value => parseFloat(value.replace(/[^\\d.]/g, ''), 10));\n\n      var _map2 = _slicedToArray(_map, 2);\n\n      a = _map2[0];\n      b = _map2[1];\n    }\n\n    if (a > b) {\n      return 1 * isDesc;\n    }\n\n    if (a < b) {\n      return -1 * isDesc;\n    }\n\n    return;\n  }\n\n  sortProducts() {\n    let productsAsArray = Object.keys(this.props.products).map(pid => this.props.products[pid]);\n    return productsAsArray.sort(this.sortByColumnAndDirection);\n  }\n\n  render() {\n    let rows = [];\n    this.sortProducts().forEach(product => {\n      if (product.name.indexOf(this.props.filterText) === -1 || !product.stocked && this.props.inStockOnly) {\n        return;\n      }\n\n      rows.push(React.createElement(ProductRow, {\n        product: product,\n        key: product.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(SortableColumnHeader, {\n      column: \"name\",\n      currentSort: this.state.sort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(SortableColumnHeader, {\n      column: \"price\",\n      currentSort: this.state.sort,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, rows));\n  }\n\n}\n\nexport default ProductTable;","map":{"version":3,"sources":["/Users/zizoh/first-react-app/src/ProductTable.js"],"names":["React","ProductRow","SortableColumnHeader","ProductTable","Component","constructor","props","sortByColumnAndDirection","bind","state","sort","column","direction","objectA","objectB","isDesc","a","b","map","value","parseFloat","replace","sortProducts","productsAsArray","Object","keys","products","pid","render","rows","forEach","product","name","indexOf","filterText","stocked","inStockOnly","push","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ProductRow from './ProductRow.js';\nimport SortableColumnHeader from './SortableColumnHeader.js';\n\nclass ProductTable extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.sortByColumnAndDirection = this.sortByColumnAndDirection.bind(this);\n\t\tthis.state = {\n\t\t\tsort: {\n\t\t\t\tcolumn: 'name',\n\t\t\t\tdirection: 'desc'\n\t\t\t}\n\t\t};\n\t}\n\tsortByColumnAndDirection(objectA, objectB) {\n\t\tlet isDesc = this.state.sort.direction === 'desc' ? -1 : 1;\n\t\tlet [a, b] = [objectA[this.state.sort.column], objectB[this.state.sort.column]];\n\t\tif(this.state.sort.column === 'price') {\n\t\t\t[a, b] = [a, b].map((value) => parseFloat(value.replace(/[^\\d.]/g, ''), 10));\n\t\t}\n\t\tif (a > b){\n\t\t\treturn 1 * isDesc;\n\t\t}\n\n\t\tif(a < b){\n\t\t\treturn -1 * isDesc;\n\t\t}\n\t\treturn;\n\t}\n\t\n\tsortProducts() {\n\t\tlet productsAsArray = Object.keys(this.props.products).map((pid) => this.props.products[pid]);\n\t\treturn productsAsArray.sort(this.sortByColumnAndDirection);\n\t}\n\trender() {\n\t\tlet rows = [];\n\t\tthis.sortProducts().forEach((product) => {\n\t\t\tif(product.name.indexOf(this.props.filterText) === -1 || (!product.stocked && this.props.inStockOnly)){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trows.push(\n\t\t\t\t<ProductRow product = {product} key  = {product.id} />\n\t\t\t); \n\t\t\t\n\t\t});\n\t\treturn (\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<SortableColumnHeader column='name' \n\t\t\t\t\t\t\tcurrentSort = {this.state.sort}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SortableColumnHeader column='price'\n\t\t\t\t\t\tcurrentSort = {this.state.sort}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{rows}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t);\n\t}\n}\n\nexport default ProductTable;"]},"metadata":{},"sourceType":"module"}